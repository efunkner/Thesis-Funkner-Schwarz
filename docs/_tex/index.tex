% Options for packages loaded elsewhere
% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode,linktoc=all}{hyperref}
\PassOptionsToPackage{hyphens}{url}
\PassOptionsToPackage{dvipsnames,svgnames,x11names}{xcolor}
%
\documentclass[
  ngerman,
  letterpaper,
  DIV=11]{scrreprt}
\usepackage{xcolor}
\usepackage[top=30mm,left=20mm,heightrounded]{geometry}
\usepackage{amsmath,amssymb}
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math} % this also loads fontspec
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
\usepackage{lmodern}
\ifPDFTeX\else
  % xetex/luatex font selection
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
% Make \paragraph and \subparagraph free-standing
\makeatletter
\ifx\paragraph\undefined\else
  \let\oldparagraph\paragraph
  \renewcommand{\paragraph}{
    \@ifstar
      \xxxParagraphStar
      \xxxParagraphNoStar
  }
  \newcommand{\xxxParagraphStar}[1]{\oldparagraph*{#1}\mbox{}}
  \newcommand{\xxxParagraphNoStar}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
  \let\oldsubparagraph\subparagraph
  \renewcommand{\subparagraph}{
    \@ifstar
      \xxxSubParagraphStar
      \xxxSubParagraphNoStar
  }
  \newcommand{\xxxSubParagraphStar}[1]{\oldsubparagraph*{#1}\mbox{}}
  \newcommand{\xxxSubParagraphNoStar}[1]{\oldsubparagraph{#1}\mbox{}}
\fi
\makeatother


\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\newsavebox\pandoc@box
\newcommand*\pandocbounded[1]{% scales image to fit in text height/width
  \sbox\pandoc@box{#1}%
  \Gscale@div\@tempa{\textheight}{\dimexpr\ht\pandoc@box+\dp\pandoc@box\relax}%
  \Gscale@div\@tempb{\linewidth}{\wd\pandoc@box}%
  \ifdim\@tempb\p@<\@tempa\p@\let\@tempa\@tempb\fi% select the smaller of both
  \ifdim\@tempa\p@<\p@\scalebox{\@tempa}{\usebox\pandoc@box}%
  \else\usebox{\pandoc@box}%
  \fi%
}
% Set default figure placement to htbp
\def\fps@figure{htbp}
\makeatother



\ifLuaTeX
\usepackage[bidi=basic]{babel}
\else
\usepackage[bidi=default]{babel}
\fi
% get rid of language-specific shorthands (see #6817):
\let\LanguageShortHands\languageshorthands
\def\languageshorthands#1{}
\ifLuaTeX
  \usepackage[german]{selnolig} % disable illegal ligatures
\fi


\setlength{\emergencystretch}{3em} % prevent overfull lines

\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}



 


\KOMAoption{captions}{tableheading}
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\AtBeginDocument{%
\ifdefined\contentsname
  \renewcommand*\contentsname{Inhaltsverzeichnis}
\else
  \newcommand\contentsname{Inhaltsverzeichnis}
\fi
\ifdefined\listfigurename
  \renewcommand*\listfigurename{Abbildungsverzeichnis}
\else
  \newcommand\listfigurename{Abbildungsverzeichnis}
\fi
\ifdefined\listtablename
  \renewcommand*\listtablename{Tabellenverzeichnis}
\else
  \newcommand\listtablename{Tabellenverzeichnis}
\fi
\ifdefined\figurename
  \renewcommand*\figurename{Abbildung}
\else
  \newcommand\figurename{Abbildung}
\fi
\ifdefined\tablename
  \renewcommand*\tablename{Tabelle}
\else
  \newcommand\tablename{Tabelle}
\fi
}
\@ifpackageloaded{float}{}{\usepackage{float}}
\floatstyle{ruled}
\@ifundefined{c@chapter}{\newfloat{codelisting}{h}{lop}}{\newfloat{codelisting}{h}{lop}[chapter]}
\floatname{codelisting}{Listing}
\newcommand*\listoflistings{\listof{codelisting}{Listingverzeichnis}}
\makeatother
\makeatletter
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\@ifpackageloaded{subcaption}{}{\usepackage{subcaption}}
\makeatother
\usepackage{bookmark}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same}
\hypersetup{
  pdftitle={Lehrdemonstrationen zur digitalen Filterung auf eingebetteten Systemen},
  pdfauthor={Eduard Funkner; Martin Schwarz},
  pdflang={de},
  colorlinks=true,
  linkcolor={blue},
  filecolor={Maroon},
  citecolor={Blue},
  urlcolor={Blue},
  pdfcreator={LaTeX via pandoc}}


\title{Lehrdemonstrationen zur digitalen Filterung auf eingebetteten
Systemen}
\author{Eduard Funkner \and Martin Schwarz}
\date{2025-06-17}
\begin{document}
\maketitle

\renewcommand*\contentsname{Inhaltsverzeichnis}
{
\hypersetup{linkcolor=}
\setcounter{tocdepth}{2}
\tableofcontents
}

\chapter{Einführung}\label{einfuxfchrung}

Diese Bachlorthesis dient als eine Lerndemonstration zur Implentierung
von digitalen biquadratischen-Filtern auf Mikrocontrollern sowie FPGAs.
Im Umfang dieser Demonstration werden digitale Biquad-Filter entworfen
und auf einem ESP Lyrat V4.3 sowie einem PYNQZ2 implementiert. Die
Filter werden mittels Matlab- sowie Pythontools entworfen.

\section{IIR-Filter zweiter Ordnung}\label{iir-filter-zweiter-ordnung}

Infinite Impulse Response (IIR) Filter gehören in der Signalverarbeitung
zu den grundlegenden Typen der digitalen Filter. Grundlegend zeichnen
sich IIR-Filter durch ihre characteristik aus, bei der Berechnung des
aktuellen Ausgangssingals durch die Verwendung des gegenwärtigen und
vergangenen Eingabewertes als auch des vorherigen Ausgabewertes.
Aufgrund dieser Rückkopplung kann es dazu führen, dass die Impulsantwort
von IIR-Filtern theoretisch unendlich lang andauern kann, was sie
grundsätzlich von Finite Impulse Response (FIR) Filtern unterscheidet.

Ein immenser Vorteil von IIR-Filtern liegt in der hohen Effizienz bei
der Realisierung scharfter Frequenzgänge mit relativ wenigen
Koeffizienten, während FIR-Filter für vergleichbare Filtereigenschaften
oft hunderte von Koeffizienten benötigen, können IIR-Filter ähnliche
Ergebnisse mit deutlich geringerem Rechenaufwand erreichen. Aufgrund
dieser Eigenschaft eignen sich IIR-Filter besonders gut im Einsatz von
Systemen mit beschränkten Ressourcen oder in Echtzeitverarbeitung.

Biquadratische Filter, kurz als ``Biquad'' bezeichnet, sind eine
spezielle Unterklasse von IIR-Filtern zweiter Ordnung. Durch das
Kaskadieren solcher Biquad-Sektionen besteht die möglichkeit komplexe
IIR-Filter höhrer Ordnung auf einfache Weise zu realsieren. Das
Kaskadieren dieser Sektionen bringt Vorteile in Bezug auf numerische
Stabilität, Flexibilät bei der Parameteranpassung und Modularität des
Designs.

\chapter{Differenzengleichung}\label{differenzengleichung}

Digitale Filter können mit einer linearen Differenzengleichung
beschrieben werden. Differenzengleichung des Biquad-Filters:

\[
y[n] =  \frac{1}{a_0}(b_0 \cdot x[n] + b_1 \cdot x[n - 1] + b_2 \cdot x[n - 2] - a_1 \cdot y[n - 1] - a_2 \cdot y[n - 2])
\]

Der Wert \(y[n]\) bezeichnet den Ausgabewert zum Sample \(n\), während
\(x[n]\) den Eingangswert darstellt. Der aktuelle Ausgabewert \(y[n]\)
ergibt sich aus der gewichteten Summe der aktuellen und zwei vergangenen
Eingabewerte, subtrahiert mit den zwei gewichteten vergangen
Ausgabewerte. Die Koeffizienten \(b_0\), \(b_1\) und \(b_2\) bestimmen
den Einfluss des aktuellen und der vergangenen Eingabewerte
(Feedforward), während \(a_1\) und \(a_2\) den Rückkopplungsanteil aus
früheren Ausgabewerten (Feedback) modellieren. Im Allgemeinem wird der
Koeffizient auf \(a_0\) auf 1 normiert: \[
y[n] = b_0 \cdot x[n] + b_1 \cdot x[n - 1] + b_2 \cdot x[n - 2] - a_1 \cdot y[n - 1] - a_2 \cdot y[n - 2]
\]

\chapter{Übertragungsfunktion}\label{uxfcbertragungsfunktion}

Zur Analyse des Frequenz- und Phasenverhaltens des Filters, wird die
Differenzengleichung mittles der z-Transformation in den z-Bereich
transformiert: \[
H(z) = \frac{Y(z)}{X(z)} = \frac{b_0 + b_1 z^{-1} + b_2 z^{-2}}{1 + a_1 z^{-1} + a_2 z^{-2}}
\] Bei dieser rationalen Funktion wird das Verhälnis zwischen Ausgang zu
Eingang im Frequenzbereich beschrieben. Um die Stabilität des
Biquad-Filters zu vergewissern, müssen alle Polstellen des Filters
innerhalb des Einheitskreises der z-Ebene liegen.

\chapter{Directform 1, 2 und
transponiert}\label{directform-1-2-und-transponiert}

Differenzengleichung der Direktform 1:

\(y[n] = w[n] - a_1 \cdot y[n-1] - a_2 \cdot y[n-2]\)
\(w[n] = b_0 \cdot x[n] + b_1 \cdot x[n - 1] + b_2\)

Differenzengleichung der Direktform 2:

\(y[n] = b_0 \cdot w[n] + b_1 \cdot w[n-1] + b_2 \cdot w[n-2]\)
\(w[n] = x[n] - a_1 \cdot w[n-1] - a_2 \cdot w[n-2]\)

Differenzengleichung der transponierten Direktform 2:

\(y[n] = b_0 x[n] + s_1[n-1]\)
\(s_1[n] = s_2[n - 1] + b_1 x[n] - a_1 y[n]\)
\(s_2[n] = b_2 x[n] - a_2 y[n]\)

\chapter{Bilineartransformation}\label{bilineartransformation}

Mittels der Bilineartransformation ist es möglich einen bestehenden
analogen Filter, anhand seiner Übertragungsfunktion zu
digitalisieren.Die analogen Biquad Filter werden aus dem Expirement 4
des Analog Systems Lab Kit PRO entnommen.




\end{document}
